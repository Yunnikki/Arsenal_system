OB_Description_Text_ORDINAL = "<img image='\a3\ui_f\data\IGUI\Cfg\Cursors\leader_ca.paa' size='2.1' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>SE Офицер</t><br/><t color='#006CFF' align='center' size='1.4'>Броня: 100</t><br/><t color='#FF7800' align='center' size='1.3'>Особенности: <br/>1) Может давать метки своему отряду<br/>2) Может вызвать поддержку воздушных сил для проведения сканирования местности</t><br/><t color='#F7E8E8' align='center' size='1.3'>Офицер наземных сил Гвардии. Обычно действуют как командиры команд или отрядов.</t>";
OB_Description_Text_Grunt = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>SE Солдат</t><br/><t color='#006CFF' align='center' size='1.4'>Броня: 70</t><br/><t color='#F7E8E8' align='center' size='1.3'>SE Солдат это обычный боец Имперской Гвардии, который входит в отряд Коммандос</t>";
OB_Description_Text_Wallhammer = "<img image='\WBK_Combines\icons\yellow_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>SE Штурмовик (Молотобоец)</t><br/><t color='#006CFF' align='center' size='1.4'>Броня: 250</t><br/><t color='#FF7800' align='center' size='1.3'>Особенности: <br/>1) Может выпускать энергетичнский щит для защиты себя и отряда</t><br/><t color='#F7E8E8' align='center' size='1.3'>SE штурмовик (или же молотобоец) Значительно бронированне остальных юнитов пехоты благодаря улучшенной защите. Помимо брони, у него есть дробовик и энергетический щит.</t>";
OB_Description_Text_APF = "<img image='\WBK_Combines\icons\yellow_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>SE Подавитель</t><br/><t color='#006CFF' align='center' size='1.4'>Броня: 150</t><br/><t color='#FF7800' align='center' size='1.3'>Особенности: <br/>1) Единственный юнит, который может поднять тяжелый пулемет</t><br/><t color='#F7E8E8' align='center' size='1.3'>SE Подавитель это класс солдата с тяжелым вооружением отряда коммандос Имперской Гвардии. Подавители похожи на Штурмовиков тем, что они очень сильно бронированы; однако, в то время как Штурмовики пытаются приблизиться к врагам, Подавители остаются на расстоянии и обеспечивают прикрытие из Импульсного Минигана. Пока они подавляют, они не могут двигаться.</t>";
OB_Description_Text_Assasin = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE ASSASSIN</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 70</t><br/><t color='#FF7800' align='center' size='1.3'>Special Abilities: <br/>1) Can mark targets as ordinal<br/>2) Able to perform quick and deadly melee attacks<br/>3) Able to perform high jumps using her heel springs.</t><br/><t color='#F7E8E8' align='center' size='1.1'>Combine Assassin is a female transhuman, mostly a slimmer and female version of the Overwatch Elite, with an almost identical helmet. Assassins are quick and resourceful, moving swiftly and performing flips, rolls, and other movements. They can jump over obstacles using heel springs. The armor and padding are almost completely absent, allowing the assassin to move quickly.</t>";
OB_Description_Text_HL2Combine = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE SOLDIER</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 100</t><br/><t color='#F7E8E8' align='center' size='1.05'>Overwatch Soldiers, known as Combine Soldiers by Rebels, are parts of Stabilization teams. Those soldiers are the basic transhuman infantry units of the Combine Overwatch, and the primary military of the Combine on Earth. In contrast to Civil Protection, whose duties are to enforce order within suppressed population centers, Overwatch soldiers are tasked with more hazardous actions requiring skill and tactic: from patrolling the treacherous borders of Combine-controlled territory to raiding Resistance-held strongholds and neutralizing any form of threat to the Combine. Being the Combine military personnel, Overwatch Soldiers are given access to military-grade equipment and trained (or, more accurately, programmed) with advanced tactical combat training, making them more formidable strong opponents.</t>";
OB_Description_Text_HL2ORDINAL = "<img image='\a3\ui_f\data\IGUI\Cfg\Cursors\leader_ca.paa' size='2.1' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE ELITE</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 100</t><br/><t color='#FF7800' align='center' size='1.3'>Special Abilities: <br/>1) Can mark targets for his squad<br/>2) Can call for an Airwatch support (Location Scaning)</t><br/><t color='#F7E8E8' align='center' size='1.3'>The Overwatch Elite are specialized, higher-ranking Overwatch Soldiers. Sporting a distinctive white uniform and helmet with a single red lens, the Elite are the deadliest of the Combine Overwatch infantry. Those units can be a part of a squad as team leader, or can operate on their own.</t>";
OB_Description_Text_CivilProtection = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>CIVIL PROTECTION OFFICER</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 50</t><br/><t color='#F7E8E8' align='center' size='1.05'>Civil Protection is the Combine's law enforcement in all urban areas on Earth. Its officers are called 'Civil Protection.' The spelling 'Metro Cop' is also used, and 'CP' is used by all Citizens and Resistance members when referring to them. While being part of the Combine Overwatch, Civil Protection officers are ordinary human volunteers who have 'willingly' joined the Combine. Civil Protection officers joined either for more privileges, such as additional food, better living conditions, rewards for completing objectives and tasks (including 'non-mechanical reproduction simulation'), an increase in authority and status over others, or out of genuine sympathy and identification with the Combine's aims. Civil Protection officers do not receive biological modifications in any way, unlike the two other Overwatch unit.</t>";
OB_Description_Text_MR1OFFICER = "<img image='\a3\ui_f\data\IGUI\Cfg\Cursors\leader_ca.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>Офицер 1-го КМН</t><br/><t color='#006CFF' align='center' size='1.4'>Броня: 50</t><br/><t color='#F7E8E8' align='center' size='1.05'>Офицер отряда 1-го Корпуса Марадеров Наследника, который входит в состав 1-й Имперской Армады под командованием верхновного главнокомандующего Императора Бальтазара. Данный отряд может заниматься, как десантированием с орбиты, так и разведывательными операциями.</t>";
OB_Description_Text_MR1Soldier = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>Солдат 1-го КМН</t><br/><t color='#006CFF' align='center' size='1.4'>Броня: 0</t><br/><t color='#F7E8E8' align='center' size='1.05'>Солдат отряда 1-го Корпуса Марадеров Наследника, который входит в состав 1-й Имперской Армады под командованием верхновного главнокомандующего Императора Бальтазара. Данный отряд может заниматься, как десантированием с орбиты, так и разведывательными операциями.</t>";


[
    "WBK_OB_ArsenalSetting",
    "LIST",
    "(Build-in Arsenal) Can players take same kit?",
    "Our Benefactors",
    [[true, false], ["YES", "NO"], 0],
    1,
    {
        params ["_value"];
        WBK_OB_Arsenal_CanPlayerUseSameKit = _value;
    }
] call CBA_fnc_addSetting;





Wbk_equip_load = {
_obj = _this;
if ((isNil {_obj getVariable "WBK_kitMenuPresent"})) then {
_obj setVariable ["WBK_kitMenuPresent",0];
_obj addAction ["Open Kit Menu", {
_obj = _this select 0;
WBK_GlobalKitBoxRn = _obj;
playSound "Orange_Timeline_IconFadeIn";
[] exec "\combine_arsenal\WBK_Kit_Camera.sqs";
_rndAnim = ["Acts_AidlPercMstpSloWWrflDnon_warmup_1","Acts_AidlPercMstpSloWWrflDnon_warmup_2","Acts_AidlPercMstpSloWWrflDnon_warmup_3","Acts_AidlPercMstpSloWWrflDnon_warmup_4","Acts_AidlPercMstpSloWWrflDnon_warmup_5"] call BIS_fnc_SelectRandom;
player switchMove _rndAnim;
_dirToObj = [player, _obj] call BIS_fnc_dirTo;
_actDir = _dirToObj - 180;
player setDir _actDir;
}];
}else{
systemChat "Object already have a kit menu";
};
};


Wbk_AssignKit = {
params ["_control", "_index"];
private ["_lbData", "_itemClass", "_itemCount"];
_lbData = call compile (lbData [ctrlIDC _control, _index]);
_kit = _lbData select 0;
_typeOfKit = _lbData select 1;
_voiceType = _lbData select 2;
_armour = _lbData select 3;
_codeExecute = _lbData select 4;
if ((({_x getVariable "WBK_AssignedKit" == _typeOfKit} count allPlayers) >= 1) and !(WBK_OB_Arsenal_CanPlayerUseSameKit)) exitWith {systemChat "Kit is already on another player";};
playSound ["Click", true];
player setUnitLoadout _kit;
player setVariable ["WBK_HL_CustomArmour",_armour,true];
player setVariable ["WBK_HL_CustomArmour_MAX",_armour,true];
player setVariable ["WBK_CombineType",_voiceType,true];
player setVariable ["WBK_AssignedKit",_typeOfKit,true];
[] spawn _codeExecute;
if (!("Medikit" in items player) and !("ToolKit" in items player) and !("MineDetector" in items player)) then {
player setUnitTrait ["engineer",false];
player setUnitTrait ["Medic",false];
player setUnitTrait ["explosiveSpecialist",false];
}else{
if ("Medikit" in items player) then {
player setUnitTrait ["engineer",false];
player setUnitTrait ["Medic",true];
player setUnitTrait ["explosiveSpecialist",false];
systemChat "You are a medic now!";
};
if ("ToolKit" in items player) then {
player setUnitTrait ["engineer",true];
player setUnitTrait ["Medic",false];
systemChat "You are a engineer now!";
};
if ("MineDetector" in items player) then {
player setUnitTrait ["Medic",false];
player setUnitTrait ["explosiveSpecialist",true];
systemChat "You are a sapper now!";
};
};
_display = findDisplay 2000;
_listBox = _display displayCtrl 1526;
_listBox lbSetColor [0, [0,1,0,1]];
lbClear 1526;
_weapons = weapons player;
{
if (!(_x == "") and !(_x == "Put") and !(_x == "Throw")) then {
_pic = getText (configFile >> "CfgWeapons" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgWeapons" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
} forEach _weapons;
_itemsPlayer = [headgear player, goggles player, vest player, uniform player, backpack player];
{
if ((_x == backpack player)) then {
if (!(_x == "")) then {
_pic = getText (configFile >> "CfgVehicles" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgVehicles" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
}else{
if ((_x == goggles player)) then {

if (!(_x == "")) then {
_pic = getText (configFile >> "CfgGlasses" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgGlasses" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
}else{
if (!(_x == "")) then {
_pic = getText (configFile >> "CfgWeapons" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgWeapons" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
};
};
} forEach _itemsPlayer;
{
if (!(_x == "")) then {
if (_x isKindOf ["None", configFile >> "CfgGlasses"]) then {
_pic = getText (configFile >> "CfgGlasses" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgGlasses" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
}else{
_pic = getText (configFile >> "CfgWeapons" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgWeapons" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
};
} forEach assignedItems player;
_mags = magazines player;
{
if (!(_x == "")) then {
_pic = getText (configFile >> "CfgMagazines" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgMagazines" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
} forEach _mags;
{
if (!(_x == "")) then {
if (_x isKindOf ["None", configFile >> "CfgGlasses"]) then {
_pic = getText (configFile >> "CfgGlasses" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgGlasses" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
}else{
_pic = getText (configFile >> "CfgWeapons" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgWeapons" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
};
} forEach items player;
};



Wbk_AddKit = {
_obj = _this select 0;
_nameOfKit = _this select 1;
_fullKit = _this select 2;
_voiceType = _this select 3;
_armour = _this select 4;
_text = _this select 5;
_kitToTransfer = [_nameOfKit, _fullKit,_voiceType,_armour,_text];
if (isNil {_obj getVariable "WBK_ActualKits"}) exitWith {
_obj setVariable ["WBK_ActualKits",[_kitToTransfer]];
_obj spawn Wbk_equip_load;
};
_array = _obj getVariable "WBK_ActualKits";
_array pushBack _kitToTransfer;
_obj setVariable ["WBK_ActualKits",_array];
};



Wbk_AddKitFromUnitEquipment = {
_obj = _this select 0;
_unitToCopy = _this select 2;
_nameOfKit = _this select 1;
_voiceType = _this select 3;
_armour = _this select 4;
_text = _this select 5;
_fullKit = getUnitLoadout _unitToCopy;
_kitToTransfer = [_nameOfKit, _fullKit,_voiceType,_armour,_text];
if (isNil {_obj getVariable "WBK_ActualKits"}) exitWith {
_obj setVariable ["WBK_ActualKits",[_kitToTransfer]];
_obj spawn Wbk_equip_load;
};
_array = _obj getVariable "WBK_ActualKits";
_array pushBack _kitToTransfer;
_obj setVariable ["WBK_ActualKits",_array];
};
