OB_Description_Text_ORDINAL = "<img image='\a3\ui_f\data\IGUI\Cfg\Cursors\leader_ca.paa' size='2.1' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE ORDINAL</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 100</t><br/><t color='#FF7800' align='center' size='1.3'>Special Abilities: <br/>1) Can mark targets for his squad<br/>2) Can call for an Airwatch support (Location Scaning)</t><br/><t color='#F7E8E8' align='center' size='1.3'>Combine Ordinals are the commanding officers of the Overwatch Commando forces. They have authority over other Combine forces and typically act as team or squad leaders in command, usually heading a squad of Combine Grunts alongside Combine Charger or Combine Suppressor units for support.</t>";
OB_Description_Text_Grunt = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE GRUNT</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 70</t><br/><t color='#F7E8E8' align='center' size='1.3'>The Combine Grunt (also known as Echo One in Combine terminology) is one of the four Overwatch units that are apart of an Overwatch Commando branch. They are, however, a lower-ranked soldier class among the four Overwatch Commando units.</t>";
OB_Description_Text_Wallhammer = "<img image='\WBK_Combines\icons\yellow_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE CHARGER (WALLHAMMER)</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 250</t><br/><t color='#FF7800' align='center' size='1.3'>Special Abilities: <br/>1) Can deploy dark energy shield to protect himself and his squad</t><br/><t color='#F7E8E8' align='center' size='1.3'>The Combine Charger (also known as Wallhammer in Combine terminology) is much larger compared to other units. They are distinguishable by their heavy padding giving them a more sizable look. A teal combine emblem is painted onto the right shoulder pad of the armor. Along with their armor, they also come equipped with a shotgun, stun stick and a shield.</t>";
OB_Description_Text_APF = "<img image='\WBK_Combines\icons\yellow_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE SUPPRESSOR (APF)</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 150</t><br/><t color='#FF7800' align='center' size='1.3'>Special Abilities: <br/>1) Only unit who can use Pulse Minigun</t><br/><t color='#F7E8E8' align='center' size='1.3'>Combine Suppressor (also known as the APF or Antibody Protection Force in Combine terminology) is a heavy weapons soldier class of the Overwatch Commando unit. Suppressors are similar to Combine Chargers in that they are very heavily armored; however, while Chargers attempt to get close to enemies, Suppressors stay at a distance and provide covering fire with the Pulse Minigun. While they are suppressing, they cannot move.</t>";
OB_Description_Text_Assasin = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE ASSASSIN</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 70</t><br/><t color='#FF7800' align='center' size='1.3'>Special Abilities: <br/>1) Can mark targets as ordinal<br/>2) Able to perform quick and deadly melee attacks<br/>3) Able to perform high jumps using her heel springs.</t><br/><t color='#F7E8E8' align='center' size='1.1'>Combine Assassin is a female transhuman, mostly a slimmer and female version of the Overwatch Elite, with an almost identical helmet. Assassins are quick and resourceful, moving swiftly and performing flips, rolls, and other movements. They can jump over obstacles using heel springs. The armor and padding are almost completely absent, allowing the assassin to move quickly.</t>";
OB_Description_Text_HL2Combine = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE SOLDIER</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 100</t><br/><t color='#F7E8E8' align='center' size='1.05'>Overwatch Soldiers, known as Combine Soldiers by Rebels, are parts of Stabilization teams. Those soldiers are the basic transhuman infantry units of the Combine Overwatch, and the primary military of the Combine on Earth. In contrast to Civil Protection, whose duties are to enforce order within suppressed population centers, Overwatch soldiers are tasked with more hazardous actions requiring skill and tactic: from patrolling the treacherous borders of Combine-controlled territory to raiding Resistance-held strongholds and neutralizing any form of threat to the Combine. Being the Combine military personnel, Overwatch Soldiers are given access to military-grade equipment and trained (or, more accurately, programmed) with advanced tactical combat training, making them more formidable strong opponents.</t>";
OB_Description_Text_HL2ORDINAL = "<img image='\a3\ui_f\data\IGUI\Cfg\Cursors\leader_ca.paa' size='2.1' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>COMBINE ELITE</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 100</t><br/><t color='#FF7800' align='center' size='1.3'>Special Abilities: <br/>1) Can mark targets for his squad<br/>2) Can call for an Airwatch support (Location Scaning)</t><br/><t color='#F7E8E8' align='center' size='1.3'>The Overwatch Elite are specialized, higher-ranking Overwatch Soldiers. Sporting a distinctive white uniform and helmet with a single red lens, the Elite are the deadliest of the Combine Overwatch infantry. Those units can be a part of a squad as team leader, or can operate on their own.</t>";
OB_Description_Text_CivilProtection = "<img image='\WBK_Combines\icons\green_target.paa' size='1.7' color='#56CB00' align='center'></img><t color='#F7E8E8' align='center' size='1.4'>CIVIL PROTECTION OFFICER</t><br/><t color='#006CFF' align='center' size='1.4'>Armour: 50</t><br/><t color='#F7E8E8' align='center' size='1.05'>Civil Protection is the Combine's law enforcement in all urban areas on Earth. Its officers are called 'Civil Protection.' The spelling 'Metro Cop' is also used, and 'CP' is used by all Citizens and Resistance members when referring to them. While being part of the Combine Overwatch, Civil Protection officers are ordinary human volunteers who have 'willingly' joined the Combine. Civil Protection officers joined either for more privileges, such as additional food, better living conditions, rewards for completing objectives and tasks (including 'non-mechanical reproduction simulation'), an increase in authority and status over others, or out of genuine sympathy and identification with the Combine's aims. Civil Protection officers do not receive biological modifications in any way, unlike the two other Overwatch unit.</t>";


[ 
    "WBK_OB_ArsenalSetting", 
    "LIST", 
    "(Build-in Arsenal) Can players take same kit?",
    "Our Benefactors",
    [[true, false], ["YES", "NO"], 0],
    1,
    {   
        params ["_value"]; 
        WBK_OB_Arsenal_CanPlayerUseSameKit = _value; 
    }
] call CBA_fnc_addSetting;





Wbk_equip_load = {
_obj = _this;
if ((isNil {_obj getVariable "WBK_kitMenuPresent"})) then { 
_obj setVariable ["WBK_kitMenuPresent",0];
_obj addAction ["Open Kit Menu", {
_obj = _this select 0;
WBK_GlobalKitBoxRn = _obj;
playSound "Orange_Timeline_IconFadeIn";
[] exec "\combine_arsenal\WBK_Kit_Camera.sqs";
_rndAnim = ["Acts_AidlPercMstpSloWWrflDnon_warmup_1","Acts_AidlPercMstpSloWWrflDnon_warmup_2","Acts_AidlPercMstpSloWWrflDnon_warmup_3","Acts_AidlPercMstpSloWWrflDnon_warmup_4","Acts_AidlPercMstpSloWWrflDnon_warmup_5"] call BIS_fnc_SelectRandom;
player switchMove _rndAnim;
_dirToObj = [player, _obj] call BIS_fnc_dirTo;
_actDir = _dirToObj - 180;
player setDir _actDir;
}];
}else{
systemChat "Object already have a kit menu";
};
};


Wbk_AssignKit = {
params ["_control", "_index"];
private ["_lbData", "_itemClass", "_itemCount"];
_lbData = call compile (lbData [ctrlIDC _control, _index]);
_kit = _lbData select 0;
_typeOfKit = _lbData select 1;
_voiceType = _lbData select 2;
_armour = _lbData select 3;
_codeExecute = _lbData select 4;
if ((({_x getVariable "WBK_AssignedKit" == _typeOfKit} count allPlayers) >= 1) and !(WBK_OB_Arsenal_CanPlayerUseSameKit)) exitWith {systemChat "Kit is already on another player";};
playSound ["Click", true];
player setUnitLoadout _kit;
player setVariable ["WBK_HL_CustomArmour",_armour,true];
player setVariable ["WBK_HL_CustomArmour_MAX",_armour,true];
player setVariable ["WBK_CombineType",_voiceType,true];
player setVariable ["WBK_AssignedKit",_typeOfKit,true];
[] spawn _codeExecute;
if (!("Medikit" in items player) and !("ToolKit" in items player) and !("MineDetector" in items player)) then {
player setUnitTrait ["engineer",false];
player setUnitTrait ["Medic",false];
player setUnitTrait ["explosiveSpecialist",false];
}else{
if ("Medikit" in items player) then {
player setUnitTrait ["engineer",false];
player setUnitTrait ["Medic",true];
player setUnitTrait ["explosiveSpecialist",false];
systemChat "You are a medic now!";
};
if ("ToolKit" in items player) then {
player setUnitTrait ["engineer",true];
player setUnitTrait ["Medic",false];
systemChat "You are a engineer now!";
};
if ("MineDetector" in items player) then {
player setUnitTrait ["Medic",false];
player setUnitTrait ["explosiveSpecialist",true];
systemChat "You are a sapper now!";
};
};
_display = findDisplay 2000;
_listBox = _display displayCtrl 1526;
_listBox lbSetColor [0, [0,1,0,1]];
lbClear 1526;
_weapons = weapons player;
{
if (!(_x == "") and !(_x == "Put") and !(_x == "Throw")) then {
_pic = getText (configFile >> "CfgWeapons" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgWeapons" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
} forEach _weapons;
_itemsPlayer = [headgear player, goggles player, vest player, uniform player, backpack player];
{
if ((_x == backpack player)) then {
if (!(_x == "")) then {
_pic = getText (configFile >> "CfgVehicles" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgVehicles" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
}else{
if ((_x == goggles player)) then {

if (!(_x == "")) then {
_pic = getText (configFile >> "CfgGlasses" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgGlasses" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
}else{
if (!(_x == "")) then {
_pic = getText (configFile >> "CfgWeapons" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgWeapons" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
};
};
} forEach _itemsPlayer;
{
if (!(_x == "")) then {
if (_x isKindOf ["None", configFile >> "CfgGlasses"]) then {
_pic = getText (configFile >> "CfgGlasses" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgGlasses" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
}else{
_pic = getText (configFile >> "CfgWeapons" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgWeapons" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
};
} forEach assignedItems player;
_mags = magazines player;
{
if (!(_x == "")) then {
_pic = getText (configFile >> "CfgMagazines" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgMagazines" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
} forEach _mags;
{
if (!(_x == "")) then {
if (_x isKindOf ["None", configFile >> "CfgGlasses"]) then {
_pic = getText (configFile >> "CfgGlasses" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgGlasses" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
}else{
_pic = getText (configFile >> "CfgWeapons" >> _x >> "picture");
_index = _listBox lbAdd getText (configFile >> "CfgWeapons" >> _x >> "displayname");
_listBox lbSetPicture [_index, _pic];
_listBox lbSetData [_index, format ["['%1']", _x]];
_listBox lbSetPictureColor [_index, [1, 1, 1, 1]];
};
};
} forEach items player;
};



Wbk_AddKit = {
_obj = _this select 0;
_nameOfKit = _this select 1;
_fullKit = _this select 2;
_voiceType = _this select 3;
_armour = _this select 4;
_text = _this select 5;
_kitToTransfer = [_nameOfKit, _fullKit,_voiceType,_armour,_text];
if (isNil {_obj getVariable "WBK_ActualKits"}) exitWith {
_obj setVariable ["WBK_ActualKits",[_kitToTransfer]];
_obj spawn Wbk_equip_load;
};
_array = _obj getVariable "WBK_ActualKits";
_array pushBack _kitToTransfer;
_obj setVariable ["WBK_ActualKits",_array];
};



Wbk_AddKitFromUnitEquipment = {
_obj = _this select 0;
_unitToCopy = _this select 2;
_nameOfKit = _this select 1;
_voiceType = _this select 3;
_armour = _this select 4;
_text = _this select 5;
_fullKit = getUnitLoadout _unitToCopy;
_kitToTransfer = [_nameOfKit, _fullKit,_voiceType,_armour,_text];
if (isNil {_obj getVariable "WBK_ActualKits"}) exitWith {
_obj setVariable ["WBK_ActualKits",[_kitToTransfer]];
_obj spawn Wbk_equip_load;
};
_array = _obj getVariable "WBK_ActualKits";
_array pushBack _kitToTransfer;
_obj setVariable ["WBK_ActualKits",_array];
};

